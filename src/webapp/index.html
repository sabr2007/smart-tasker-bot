<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Smart-Tasker</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <div class="app">
      <!-- Header -->
      <header class="header">
        <div class="header-title" id="headerTitle">My Tasks</div>
        <button id="btnSettings" class="icon-btn" type="button" aria-label="Настройки">
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
            <path
              fill="currentColor"
              d="M19.14 12.94c.04-.31.06-.63.06-.94s-.02-.63-.06-.94l2.03-1.58a.5.5 0 0 0 .12-.64l-1.92-3.32a.5.5 0 0 0-.6-.22l-2.39.96a7.1 7.1 0 0 0-1.63-.94l-.36-2.54A.5.5 0 0 0 13.9 1h-3.8a.5.5 0 0 0-.49.42l-.36 2.54c-.57.23-1.12.54-1.63.94l-2.39-.96a.5.5 0 0 0-.6.22L2.71 7.48a.5.5 0 0 0 .12.64l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94L2.83 14.52a.5.5 0 0 0-.12.64l1.92 3.32c.13.23.39.32.6.22l2.39-.96c.51.4 1.06.71 1.63.94l.36 2.54c.04.24.25.42.49.42h3.8c.24 0 .45-.18.49-.42l.36-2.54c.57-.23 1.12-.54 1.63-.94l2.39.96c.21.1.47.01.6-.22l1.92-3.32a.5.5 0 0 0-.12-.64l-2.03-1.58ZM12 15.5A3.5 3.5 0 1 1 12 8a3.5 3.5 0 0 1 0 7.5Z"
            />
          </svg>
        </button>
      </header>

      <!-- Scrollable content -->
      <main class="content">
        <!-- Tab: Tasks -->
        <section id="viewTasks" class="view">
          <div id="status" class="status">Загрузка…</div>
          <div id="tasksList" class="sections"></div>
        </section>

        <!-- Tab: Calendar -->
        <section id="viewCalendar" class="view hidden" aria-hidden="true">
          <div class="calendar">
            <div class="calendar-header">
              <button id="calPrev" class="icon-btn small" type="button" aria-label="Предыдущий месяц">‹</button>
              <div id="calTitle" class="calendar-title">—</div>
              <button id="calNext" class="icon-btn small" type="button" aria-label="Следующий месяц">›</button>
            </div>
            <div class="calendar-weekdays" aria-hidden="true">
              <div>Пн</div><div>Вт</div><div>Ср</div><div>Чт</div><div>Пт</div><div>Сб</div><div>Вс</div>
            </div>
            <div id="calGrid" class="calendar-grid"></div>
          </div>

          <div class="day-panel">
            <div id="dayTitle" class="day-title">Сегодня</div>
            <div id="dayTasks" class="list"></div>
          </div>
        </section>
      </main>

      <!-- Bottom tabs -->
      <nav class="tabbar" role="tablist" aria-label="Навигация">
        <button class="tab active" id="tabTasks" type="button" role="tab" aria-selected="true" data-tab="tasks">
          <svg class="tab-icon" viewBox="0 0 24 24" aria-hidden="true">
            <path fill="currentColor" d="M7 6h14v2H7V6Zm0 5h14v2H7v-2Zm0 5h14v2H7v-2ZM3 6h2v2H3V6Zm0 5h2v2H3v-2Zm0 5h2v2H3v-2Z"/>
          </svg>
          <div class="tab-label">List</div>
        </button>
        <button class="tab" id="tabCalendar" type="button" role="tab" aria-selected="false" data-tab="calendar">
          <svg class="tab-icon" viewBox="0 0 24 24" aria-hidden="true">
            <path fill="currentColor" d="M7 2h2v2h6V2h2v2h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h3V2Zm15 8H2v10h20V10ZM4 8h16V6H4v2Z"/>
          </svg>
          <div class="tab-label">Calendar</div>
        </button>
      </nav>
    </div>

    <!-- Bottom sheet (task actions) -->
    <div id="sheetBackdrop" class="sheet-backdrop hidden" aria-hidden="true"></div>
    <div id="sheet" class="sheet hidden" role="dialog" aria-modal="true" aria-hidden="true">
      <div class="sheet-handle" aria-hidden="true"></div>
      <div id="sheetTaskTitle" class="sheet-title"></div>
      <div class="sheet-actions">
        <button id="sheetEdit" class="sheet-btn" type="button">Редактировать</button>
        <button id="sheetReschedule" class="sheet-btn" type="button">Изменить дедлайн</button>
        <button id="sheetClearDeadline" class="sheet-btn" type="button">Убрать дедлайн</button>
        <button id="sheetDelete" class="sheet-btn danger" type="button">Удалить</button>
        <button id="sheetClose" class="sheet-btn secondary" type="button">Закрыть</button>
      </div>
    </div>

    <!-- Settings overlay -->
    <div id="settingsBackdrop" class="overlay-backdrop hidden" aria-hidden="true"></div>
    <div id="settings" class="overlay hidden" role="dialog" aria-modal="true" aria-hidden="true">
      <div class="overlay-header">
        <button id="btnSettingsClose" class="icon-btn" type="button" aria-label="Закрыть">✕</button>
        <div class="overlay-title" id="settingsTitle">Settings</div>
        <div style="width: 40px;"></div>
      </div>

      <div id="settingsMain" class="overlay-content">
        <div class="menu">
          <button id="btnOpenArchive" class="menu-item" type="button">
            <div class="menu-left">
              <div class="menu-title">Archive / Completed Tasks</div>
              <div class="menu-sub">Выполненные задачи</div>
            </div>
            <div class="menu-right">›</div>
          </button>

          <div class="menu-item static">
            <div class="menu-left">
              <div class="menu-title">Timezone</div>
              <div class="menu-sub">Auto (Asia/Almaty)</div>
            </div>
          </div>

          <div class="menu-item static">
            <div class="menu-left">
              <div class="menu-title">About</div>
              <div class="menu-sub">Version 1.0</div>
            </div>
          </div>
        </div>
      </div>

      <div id="settingsArchive" class="overlay-content hidden" aria-hidden="true">
        <div class="overlay-subheader">
          <button id="btnArchiveBack" class="icon-btn" type="button" aria-label="Назад">‹</button>
          <div class="overlay-subtitle">Archive</div>
          <div style="width: 40px;"></div>
        </div>
        <div id="archiveStatus" class="status">Загрузка…</div>
        <div id="archiveList" class="list"></div>
      </div>
    </div>

    <script src="/main.js"></script>
  </body>
</html>


